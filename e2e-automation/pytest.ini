[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Command line options
addopts = -v --tb=short --disable-warnings --alluredir=allure-results --browser-name=chrome --screenshot=on --screenshot_path=../screenshots

# Markers
markers =
    crit: Critical tests
    medium: Medium priority tests
    low: Low priority tests
    smoke: Smoke tests
    regression: Regression tests
    api: API tests
    ui: UI tests
    login: Login related tests
    validation: Form validation tests
    navigation: Navigation tests
    slow: Slow running tests
    skip: Skip this test
    xfail: Expected to fail
    flaky: Flaky test

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Environment variables
env =
    FRONTEND_URL = http://frontend:80
    BACKEND_URL = http://backend:5000
    SELENIUM_HUB_URL = http://selenium-hub:4444/wd/hub
    BROWSER_NAME = chrome
    HEADLESS = false
    IMPLICIT_WAIT = 15
    PAGE_LOAD_TIMEOUT = 30
    SCREENSHOT_ON_FAILURE = true
    MAX_RETRIES = 2
    RETRY_DELAY = 1

# Test execution
minversion = 6.0